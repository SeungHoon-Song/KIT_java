package p3;

import java.util.Arrays;
import java.util.List;
import java.util.stream.Stream;

public class StreamPipelinesEx {

	public static void main(String[] args) {
		List<Member> list = Arrays.asList(new Member("홍길동",Member.MALE,30),
				new Member("김나리",Member.FEMALE,20),
				new Member("신용권",Member.MALE,45),
				new Member("박수미",Member.FEMALE,27)
				);
		Stream<Member>os  = list.stream();
		double ageAvg = list.stream().filter(m -> m.getSex() == Member.MALE).mapToInt(Member::getAge).average().getAsDouble();
		System.out.println("남자 나이의 평균은 : " + ageAvg);
		long femaleCount = list.stream().filter(m -> m.getSex() == Member.FEMALE).mapToInt(Member::getAge).count();
		System.out.println("여자 수 : " + femaleCount);

	}

}
class Member{
	public  static int MALE = 0;
	public  static int FEMALE = 1;
	private String name;
	private int sex;
	private int age;
	public Member(String name,int sex, int age) {
		this.name=name;
		this.sex=sex;
		this.age=age;
	}
	public void setAge(int age) {
		this.age = age;
	}
	public void setSex(int sex) {
		this.sex = sex;
	}
	public void setName(String name) {
		this.name = name;
	}
	public int getSex() {
		return sex;
	}
	public int getAge() {
		return age;
	}
	public String getName() {
		return name;
	}
	
}